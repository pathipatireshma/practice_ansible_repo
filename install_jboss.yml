---
- name: Installing jboss
  hosts: localhost
  become: yes
  gather_facts: true
  vars:
    - packages:
        - java-11-openjdk-devel
        - wget
        - curl
    - wildfly_release_url: "https://api.github.com/repos/wildfly/wildfly/releases/latest|grep tag_name|cut -d '"' -f 4"
  tasks:
    - name: Downloading packages
      yum:
        name: "{{ packages }}"
        state: present
    - name: wildfly url
      get_url:
        with_items: "{{ wildfly_release_url }}"